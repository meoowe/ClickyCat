name: Export Desktop

on:
  push:
    branches: [ master ]

env:
  GODOT_VERSION: 4.3
  EXPORT_NAME: ClickyCat
  TAG: v2.0.3




jobs:
  export:
    name: Export üêßü™ü
    runs-on: ubuntu-latest
    steps:
      # Always include the checkout step so that 
      # your project is available for Godot to export
    - name: üõí checkout
      uses: actions/checkout@v4
    - name: üì§ export game
      id: export
      # Use latest version (see releases for all versions)
      uses: firebelley/godot-export@v6.0.0
      with:
        # Defining all the required inputs
        godot_executable_download_url: https://github.com/godotengine/godot-builds/releases/download/4.4-dev3/Godot_v4.4-dev3_linux.x86_64.zip
        godot_export_templates_download_url: https://github.com/godotengine/godot-builds/releases/download/4.4-dev3/Godot_v4.4-dev3_export_templates.tpz
        relative_project_path: ./
        archive_output: true

      # This release action has worked well for me. However, you can most likely use any release action of your choosing.
      # https://github.com/ncipollo/release-action
    - name: create release
      uses: ncipollo/release-action@v1.14.0
      with:
        token: ${{ secrets.GITHUB_TOKEN }}
        generateReleaseNotes: true
        tag: ${{ env.TAG }}
        artifacts: ${{ steps.export.outputs.archive_directory }}/*
        replacesArtifacts: true
